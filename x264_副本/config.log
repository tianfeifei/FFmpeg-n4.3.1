checking for -Werror=unknown-warning-option... yes
checking for -Werror=unknown-attributes... yes
checking for -Werror=attributes... yes
checking for -Werror=ignored-attributes... yes
x264 configure script
Command line options: "--host=aarch64-linux-android" "--disable-cli" "--disable-shared" "--enable-static" "--prefix=/Users/tianfei/Downloads/ffmpeg-4.3.6/x264/android/armv8-a" "--enable-pic" "--enable-strip" "--disable-asm" "--cross-prefix=/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android-" "--sysroot=/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/sysroot" "--extra-cflags=-march=armv8-a" "-Os" "-fPIC" "-DANDROID" "-Wfatal-errors" "-Wno-deprecated"

checking whether /Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android21-clang works... yes
checking whether /Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android21-clang supports for( int i = 0; i < 9; i++ ); with -std=gnu99... yes
checking whether /Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android21-clang supports __attribute__((force_align_arg_pointer))... no
Failed commandline was:
--------------------------------------------------
/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android21-clang conftest.c  -Wall -I. -I$(SRCPATH) --sysroot=/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/sysroot -march=armv8-a -Os -fPIC -DANDROID -Wfatal-errors -Wno-deprecated -std=gnu99 -D_GNU_SOURCE   -Werror=unknown-warning-option -Werror=unknown-attributes -Werror=attributes -Werror=ignored-attributes    --sysroot=/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/sysroot -lm -o conftest
conftest.c:1:16: fatal error: unknown attribute 'force_align_arg_pointer' ignored [-Wunknown-attributes]
__attribute__((force_align_arg_pointer))
               ^
1 error generated.
--------------------------------------------------
Failed program was:
--------------------------------------------------
__attribute__((force_align_arg_pointer))
int main (void) {  return 0; }
--------------------------------------------------
checking for pthread_create(0,0,0,0); in pthread.h... no
Failed commandline was:
--------------------------------------------------
/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android21-clang conftest.c  -Wall -I. -I$(SRCPATH) --sysroot=/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/sysroot -march=armv8-a -Os -fPIC -DANDROID -Wfatal-errors -Wno-deprecated -std=gnu99 -D_GNU_SOURCE   -Werror=unknown-warning-option -Werror=unknown-attributes -Werror=attributes -Werror=ignored-attributes -lpthread   --sysroot=/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/sysroot -lm -o conftest
/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/bin/../lib/gcc/aarch64-linux-android/4.9.x/../../../../aarch64-linux-android/bin/ld: cannot find -lpthread
clang: fatal error: linker command failed with exit code 1 (use -v to see invocation)
--------------------------------------------------
Failed program was:
--------------------------------------------------
#include <pthread.h>
int main (void) { pthread_create(0,0,0,0); return 0; }
--------------------------------------------------
checking for pthread_create(0,0,0,0); in pthread.h... yes
checking for cpu_set_t p_aff; return CPU_COUNT(&p_aff); in sched.h... yes
checking for volatile float x = 2; return log2f(x); in math.h... yes
checking for strtok_r(0, 0, 0); in string.h... yes
checking for clock_gettime(CLOCK_MONOTONIC, 0); in time.h... yes
checking whether defined(MAP_PRIVATE) is true... yes
checking for uint32_t test_vec __attribute__ ((vector_size (16))) = {0,1,2,3}; in stdint.h... yes
checking for stdio.h... yes
checking for -fno-tree-vectorize... yes
checking for fseeko(stdin,0,0); in stdio.h... yes
checking for -Wshadow... yes
checking for -Wmaybe-uninitialized... no
Failed commandline was:
--------------------------------------------------
/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android21-clang conftest.c -Wshadow -O3 -ffast-math  -Wall -I. -I$(SRCPATH) --sysroot=/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/sysroot -march=armv8-a -Os -fPIC -DANDROID -Wfatal-errors -Wno-deprecated -std=gnu99 -D_GNU_SOURCE -fPIC -fomit-frame-pointer -fno-tree-vectorize   -Werror=unknown-warning-option -Werror=unknown-attributes -Werror=attributes -Werror=ignored-attributes -Wmaybe-uninitialized   --sysroot=/Users/tianfei/Library/Android/sdk/ndk/21.1.6352462/toolchains/llvm/prebuilt/darwin-x86_64/sysroot -lm  -s -o conftest
fatal error: unknown warning option '-Wmaybe-uninitialized'; did you mean '-Wuninitialized'? [-Wunknown-warning-option]
--------------------------------------------------
Failed program was:
--------------------------------------------------
int main (void) {  return 0; }
--------------------------------------------------
checking for -fvisibility=hidden... yes

platform:       AARCH64
byte order:     little-endian
system:         LINUX
cli:            no
libx264:        internal
shared:         no
static:         yes
bashcompletion: no
asm:            no
interlaced:     yes
avs:            no
lavf:           no
ffms:           no
mp4:            no
gpl:            yes
thread:         posix
opencl:         yes
filters:        crop select_every
lto:            no
debug:          no
gprof:          no
strip:          yes
PIC:            yes
bit depth:      all
chroma format:  all
